# 레플리카셋(Replicaset)
> 파드 복제 집합을 관리하는 논리적인 entity(개체)

파드는 본질적으로 일회성 singleton으로써, 동적으로 늘어나거나 줄어들 목적으로 만들어졌으며 이러한 관리를 제공해주기위해 파드들의 집합을 묶어 준 것이 레플리카 셋입니다. 이 때문에 *일반적으로 레플리카셋은 stateless 서비스를 위해 설계됐다 할 수 있습니다. 레플리카셋에 의해 생성된 요소는 상호 교환이 가능하며, scale down시 임의의 파드가 삭제되도록 선택됩니다. (p.169 쿠버네티스 시작하기 2/e)*  

## 주요 특징

- 레플리카셋(`rs`)은 클러스터 전반에 걸쳐 파드를 관리하는 역할을 수행해, 항상 올바른 타입과 개수의 파드가 실행되는 것을 보장해줍니다. (쿠버네티스 self healing의 근간)
- rs에 의해 관리되는 파드는 다음과 같은 상황에서 자동으로 리스케줄링 됩니다.
  - 노드 장애
  - `네트워크 파티션(network partition)`: 클러스터 일부 노드가 master api를 통해 다른 노드와 통신할 수 없는 상황
- 쿠버네티스 내부적으로 `조정 루프(reconciliation loop)`를 통해, rs가 pod들을 관리하도록 합니다.

## 조정 루프
> 쿠버네티스의 선언적 구성과 자동화(declarative configuration and automation)의 핵심

쿠버네티스는 선언적 구성(yaml)을 통해서 `원하는 상태`를 지정하고, 이를 지속적인 모니터링을 통해 `현재 상태`와 비교 하며 서로의 상태가 일치할 수 있도록 동작합니다.(자가 치유 시스템)

레플리카셋에서 pod를 관리할 때 사용되는 조정 루프는 간단한 단일 루프이지만, 노드가 사라지거나 장애가 발생했을 경우 



